Heute wollte ich Server logs nach eine Zugriff auf den Ubuntu Server untersuchen.

-----
Als erstes definiere ich die wichtigsten Log Befehle:

sudo tail -n 20 /var/log/nginx/access.log
zeigt die letzten 20 erfolgreichen Verbindungen an

sudo tail -n 30 /var/log/nginx/error.log
zeigt die letzten 20 fehlgeschlagenen Vernindungen an
an

sudo tail -f /var/log/nginx/access.log
Zeigt die Live Ausgabe erfolgreicher Verbindungen an
an

sudo less /var/log/nginx/access.log
zeigt erfolgreiche Verbindungen mit less an
an

sudo grep "10.0.0.10" /var/log/nginx/access.log | tail -n 20
wurd genutzt um eine IP zu suchen deren Verbindung erfolgreich war
war

sudo grep ' 404 ' /var/log/nginx/access.log | tail -n 20
zeigt nur 404 Verbindungen an.

sudo journalctl -u nginx -n 50 --no-pager
Nginx Status

-----
Nun starte ich den Praxistest und gebe auf dem Ubuntu Server folgenden Befehl ein um die Live Ausgabe der erfolgreichen Verbindungen zu sehen:
sudo tail -f /var/log/nginx/access.log

Ich rufe auf 10.0.0.10 im Browser die IP 10.0.0.40 auf.

Ergebnis der Server Logs:
Ich sehe einen erfolgreichen Request
10.0.0.10 - - [13/Dec/2025:11:40:11 +0000] "GET / HTTP/1.1" 200 174 "-" "Mozilla/5.0 (Windows T 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.131 Safari/537.36 Edg/92.0.902.67"

Analyse:
10.0.0.10 hat zum Zeitsptempel die Hauptseite angefragt. Sie wurde erfolgreich per 200 zurückgegeben und ist 174 Bytes groß.
"-" ist der Referer. heißt: kein Referer mitgeschickt. Nicht immer wichtig, aber manchmal nützlich (z. B. um zu sehen, ob Klicks von einer anderen Seite kommen).

Anschließend aktualisierte ich die Seite mit F5 und bekomme die selben Logs. Als ich jedoch STRG + F5 Drückte sah ich auf dem Ubuntu Server eine Zeile mit dem Fehlercode 404 und GET /favicon.ico

Der Client versuchte hier das Icon zu holen welches nicht vorhanden ist. Deshalb auch der Fehlercode 404. Trotz 404 wird die Seite Lice angezeigt.

Dies kann man zusätzlich in den Browser Tools sehen. Man sieht hier 2 Requests.
10.0.0.10 GET /Index.php 200 174
10.0.0.10 GET /favicon.ico 404 192
Die index.php wurde erfolgreich geladen und das favicon.ico fehlt.

Das selbe können wir auch in den Server Logs sehen. Dazu nehme ich folgenden Befehl:
sudo tail -f /var/log/nginx/access.log | grep "10.0.0.10"

Wir könnten den Fehlercode 404 beheben indem wir ein favicon.ico anlegen unter /var/www/html/favicon.ico mit dem Befehl
sudo touch /var/www/html/favicon.ico

Um noch einen Schritt weiter zu gehen sehe ich mir in den Browser Tools die Details im Header zum Request index.php an.
Hier sehe ich ähnliche aber mehr Details als vorher.

Es wurde http://10.0.0.40/Index.php per GET aufgerufen.

Genutzt wurde der Port 80.

Status Code 200 -> Seite wurde geladen.

Connection: keep-alive
Der Server sagt: “Wir können die TCP-Verbindung offen lassen, damit du weitere Requests schneller schicken kannst.” Praktisch, weil eine Seite meist mehrere Requests auslöst (wie ich bei favicon.ico gesehen habe).

Content-Encoding: gzip
Inhalt wird komprimiert übertragen und vom Browser entpackt. Spart Bandbreite und ist normal.

Server: nginx/1.24.0 (Ubuntu)
Das verrät Software + Version + OS-Hinweis. Fürs Debuggen nett, aber aus Security-Sicht oft “zu viel Info”, weil Angreifer Versionen lieben. In echten Umgebungen versteckt man das häufig (z. B. weniger genaue Server-Banner).

-----
Was habe ich bis hierhin gelernt?
Ich habe gelernt, dass Browser-DevTools die Client-Sicht extrem detailliert zeigen (jede einzelne Anfrage inkl. Header) und damit helfen, Server-Log-Einträge zu verstehen und zuzuordnen.

Ich habe gelernt, dass die Standard-Server-Logs oft nur eine Zusammenfassung enthalten und man für echte Details (Header/Timing) Logging gezielt erweitern muss.

Ich habe gelernt, wie man Logs live beobachtet (tail -f) und so Aktionen am Client (F5/Strg+F5) direkt im Log wiederfindet.

Ich habe verstanden, dass ein Seitenaufruf mehrere Requests auslöst (z. B. index.php + automatisch favicon.ico) und dass ein 404 bei favicon.ico meist harmlos ist.

Ich habe als Sysadmin-Aha mitgenommen, dass ohne laufenden Domain Controller typische Domänenfunktionen wie Benutzerwechsel/Anmeldung nicht normal funktionieren.



-----
Ich habe in der index.php folgende Teile hinzugefügt:
<script src="script.js"></script>

In der script.js steht folgendes:
alert("Hi")

Nun aktualisiere ich die Seite und sehe dass script.js funktioniert und in den access.log 3 Requests gemacht wurden.
10.0.0.10 GET index.php 200
10.0.0.10 GET /script.js 200
10.0.0.10 GET /favicon.ico 404 "http://10.0.0.10/index.php

Was ist neu? Die dritte Zeile die jetzt einen Referer hat. nämlich die index.php weil script.js von der index.php aus geladen wird.